# 计算机组成原理复习总结（六）总线系统

---
title: 计算机组成原理复习总结（六）总线系统
link: 计算机组成原理复习总结（六）总线系统
catalog: true
lang: cn
date: 2021-06-18 15:35:47 
subtitle: 本章主要包括总线的概念和结构形态 ，其中重点为总线的基本概念和连接方式，只有重点部分
tags:
- 计算机组成原理
categories:
- [笔记, CS基础]
---

# 第六章 总线系统
## 6.1 总线的概念和结构形态 
### 6.1.1总线的基本概念（重点）
数字计算机是由若干系统功能部件构成的，这些系统功能部件在一起工作才能形成一个完整的计算机系统。
#### 总线定义
- 计算机的若干功能部件之间不可能采用全互联形式，因此就需要有**公共的信息通道**，即总线。
 - 总线是构成计算机系统的互联机构，是多个系统功能部件之间进行数据传送的**公共通路**。借助于总线连接，计算机在各系统功能部件之间**实现地址、数据和控制信息的交换**，并在争用资源的基础上进行工作。
总线可分为以下几类：

 - **内部总线**：**CPU内部连接各寄存器及运算器**部件之间的总线。
 - **系统总线**：**外部总线**。**CPU和**计算机系统中**其他高速功能部件**相互连接的总线。
 - **I/O总线**：**中低速I/O设备相互连接的总线**。

#### 总线的特性

总线的特性可分为：物理特性、功能特性、电气特性、时间特性。
- **物理特性**：总线的**物理连接方式**（根数、插头、插座形状，引脚排列方式）
- **功能特性**：每根线的功能
- **电气特性**：每根线上信号的传递方向及有效电平范围。
- **时间特性**：规定了每根总线在什么时间有效。

#### 总线的标准化
 - 相同的指令系统，相同的功能，不同厂家生产的各功能部件在实现方法上几乎没有相同的,但各厂家生产的相同功能部件却可以互换使用，其原因何在呢?
 - 为了**使不同厂家生产的相同功能部件可以互换使用**，就需要进行系统总线的标准化工作。目前，已经出现了很多**总线标准**，如**PCI、ISA**等。
 - 采用标准总线的优点
	 - 简化系统设计简化系统结构，提高系统可靠性
	 - 便于系统的扩充和更新
#### 总线带宽
总线本身所能达到的**最高传输速率**。
单位：**兆字节每秒(MB/s)**
 - 一次操作可以传输的数据位数
 - 如S100为8位，ISA为16位，EISA为32位，PCI-2可达64位。
 - 总线宽度不会超过微处理器外部数据总线的宽度。

【例1】（1）某总线在一个总线周期中并行传送4个字节的数据，假设一个总线周期等于一个总线时钟周期，总线时钟频率为33MHz，总线带宽是多少?
（2）如果一个总线周期中并行传送64位数据，总线时钟频率升为66MHz，总线带宽是多少?

> 解：（1）设总线带宽用Dr表示，总线时钟周期用T=1 / f表示，一个总线周期传送的数据量用D表示
> 根据定义可得Dr = D / T = D×（1 / T）=  D×f = 4B×33×106/s = 132MB/s
> （2）64位=8B
> Dr=D×f=8B×66×106/s=528MB/s

### 6.1.2总线的连接方式
 - 外围设备种类繁多，速度各异，不可能简单地把外围设备连接到CPU上。
 - **适配器（接口）**：实现**高速CPU与低速外设之间工作速度上的匹配和同步**，并完成计算机和外设之间的所有数据传送和控制。
 - 大多数总线以相同方式构成，不同之处在于**总线中数据线和地址线的宽度**以及**控制线的多少及其功能。**
 - 单机系统中总线结构的两种基本类型：
	 - **单总线**：使用一条单一的系统总线来**连接CPU、内存和I/O设备**。
		 - 特点：在单总线结构中，**要求连接到总线上的逻辑部件必须高速运行**，以便在某些设备需要使用总线时，能**迅速获得总线控制权**；而当不再使用总线时，能**迅速放弃总线控制权。**
		 - **否则**，由于一条总线由多种功能部件共用，可能**导致很大的时间延迟**。![图 单总线结构](https://img-blog.csdnimg.cn/20210618152706766.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODkwNTMz,size_16,color_FFFFFF,t_70)
	- **多总线**：在CPU、主存、I/O之间互联采用多条总线。如图所示。		
		- **高速的CPU总线**：CPU和cache之间采用
		- **系统总线**：主存连在其上。高速总线上可以连接高速LAN（100Mb/s局域网）、视频接口、图形接口、SCSI接口（支持本地磁盘驱动器和其他外设）、Firewire接口（支持大容量I/O设备）。高速总线通过扩充总线接口与扩充总线相连，扩充总线上可以连接串行方式工作的I/O设备。
		- 通过桥CPU总线、系统总线和高速总线彼此相连。**桥实质上是一种具有缓冲、转换、控制功能的逻辑电路**。
		- 多总线结构体现了高速、中速、低速设备连接到不同的总线上同时进行工作，以**提高总线的效率和吞吐量**，而且**处理器结构的变化不影响高速总线**。![多总线结构](https://img-blog.csdnimg.cn/2021061815291043.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1ODkwNTMz,size_16,color_FFFFFF,t_70)




